<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>132-03-02</title>
    <style>
        body {
            font-family: 'Malgun Gothic', '맑은 고딕', Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        p {
            margin: 10px 0;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        table, th, td {
            border: 2px solid #999;
        }
        th, td {
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
                table tr td:first-child,
        table tr td:nth-child(2) {
            text-align: center;
        }
        table tr:first-child td:nth-child(3),
        table tr th:nth-child(3) {
            text-align: center;
        }
        table tr:not(:first-child) td:nth-child(3) {
            text-align: left;
        }

        .btn-wrap {
            margin: 16px 0;
        }
        .btn-wrap button {
            font-family: 'Malgun Gothic', '맑은 고딕', Arial, sans-serif;
            padding: 8px 20px;
            margin-right: 10px;
            font-size: 14px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: #f5f5f5;
            color: #333;
            cursor: pointer;
        }
        .btn-wrap button:hover {
            background: #e8e8e8;
        }
        .btn-wrap button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        #editableArea[contenteditable="true"] {
            outline: 1px dashed #4a90d9;
            padding: 4px;
            min-height: 100px;
        }
    </style>
</head>
<body>
<div class="btn-wrap">
    <button type="button" id="btnEdit">수정</button>
    <button type="button" id="btnSave" disabled>저장</button>
</div>
<div id="editableArea" contenteditable="false">
<p>[132-03-02] 공사현장에서 계절별로 발생할 수 있는 재해 위험요인과 안전대책을 설명하시오.</p>
<table>
<tr>
<td>구분</td>
<td>세부항목</td>
<td>설명</td>
</tr>
<tr>
<td rowspan="2">계절별 
재해안전 
개요</td>
<td>계절적 
위험요인 특징</td>
<td>지구온난화·이상기후로 인한 
옥외작업 환경 급변, 계절별 산재 증가</td>
</tr>
<tr>
<td>맞춤형 
대책 필요성</td>
<td>계절별 특성에 따른 
재해위험요인 파악 및 선제적 안전대책 수립 필요</td>
</tr>
<tr>
<td rowspan="3">초미세먼지 
상황관리</td>
<td>재난대비</td>
<td>대기오염정보 수시 확인, 
미세먼지 유해성·예방법·마스크 착용 교육, 
임산부·노약자·호흡기질환자 등 민감군 사전 파악</td>
</tr>
<tr>
<td>재난대응</td>
<td>특보 시 옥외작업자 마스크 지급·착용지도, 
옥외작업 조정·단축, 비상저감조치 참여, 
근로자 개인위생 관리</td>
</tr>
<tr>
<td>사후조치</td>
<td>위기경보 종료 알림, 피해 유무 확인 및 후속조치</td>
</tr>
<tr>
<td rowspan="2">취약시기 
안전관리</td>
<td>사전 준비</td>
<td>해빙기·장마철·동절기 안전보건길잡이 활용, 
현장관리자 안내·교육 실시(2·6·12월)</td>
</tr>
<tr>
<td>취약시기 
중점 점검</td>
<td>해빙기 토사붕괴, 장마철 침수·감전, 동절기 질식·화재 등 
중대재해 요인 자율점검·개선 및 감독·기술지도 협조</td>
</tr>
<tr>
<td rowspan="8">폭염 
상황관리</td>
<td>재난대비  
기본수칙</td>
<td>물·그늘·휴식·보냉장구·응급조치 등 
온열질환 예방 5대 기본수칙 이행</td>
</tr>
<tr>
<td>물</td>
<td>시원하고 깨끗한 물 상시 제공, 규칙적 수분 섭취</td>
</tr>
<tr>
<td>그늘</td>
<td>작업장 인근 그늘 공간 확보, 통풍이 가능한 쉼터 조성</td>
</tr>
<tr>
<td>예방 휴식</td>
<td>폭염특보 시 1시간당 10~15분 휴식, 
14~17시 옥외작업 최소화</td>
</tr>
<tr>
<td>온열질환 예방  
보냉장구</td>
<td>아이스조끼·아이스팩 등 보냉장구 지급, 
민감군 옥외작업 제한</td>
</tr>
<tr>
<td>온열질환 예방  
응급조치</td>
<td>의식 소실 시 즉시 119 신고, 
의식 있을 때 응급조치 후 증상 지속 시 119 신고</td>
</tr>
<tr>
<td>특보 발령 시</td>
<td>특보 상황 전파, 안전수칙 준수 독려, 
근로자 건강 모니터링, 의심자 발생 시 작업중지·응급조치</td>
</tr>
<tr>
<td>특보 해제 시</td>
<td>경보 해제 알림, 후속조치 및 재발 방지 안내</td>
</tr>
<tr>
<td rowspan="3">태풍·호우 
상황관리</td>
<td>재난대비</td>
<td>침수·사면붕괴·토사유출 방지대책, 
배수·전기설비 사전점검, 자재·공구 정리, 근로자 사전 안전교육</td>
</tr>
<tr>
<td>특보 발령 시</td>
<td>악천후 중 무리한 복구·보강 금지, 
기상호전 시까지 대피, 
저지대·사면·옹벽·낙하 위험구역 접근 금지</td>
</tr>
<tr>
<td>특보 해제 시</td>
<td>경보 해제 알림, 피해 발생 시 
비상대응 유지 및 2차 재해 예방 기술지도</td>
</tr>
<tr>
<td rowspan="6">한파 
상황관리</td>
<td>재난대비</td>
<td>겨울철 기상상황 상시 확인, 
한파 민감군 사전 파악, 한랭질환 예방교육 및 수칙 이행</td>
</tr>
<tr>
<td>한랭질환 
예방 복장</td>
<td>여러 겹 옷, 모자·두건, 보온장갑, 보온·방수신발, 여벌옷 준비</td>
</tr>
<tr>
<td>한랭질환 예방  
따뜻한 물</td>
<td>따뜻한 물 제공으로 체온 유지 및 순환 관리</td>
</tr>
<tr>
<td>한랭질환 예방  
따뜻한 장소</td>
<td>추위를 피할 수 있는 실내·보온시설 마련</td>
</tr>
<tr>
<td>한랭질환 예방  
추가조치</td>
<td>운동지도, 고혈압·당뇨 등 민감군 관리, 
상호관찰·응급조치, 추운 시간대 옥외작업 최소화</td>
</tr>
<tr>
<td>특보 발령·해제</td>
<td>특보 전파, 작업일정 조정, 
옥외작업 축소, 해제 후 후속조치 안내</td>
</tr>
<tr>
<td rowspan="3">대설 
상황관리</td>
<td>재난대비</td>
<td>붕괴우려 시설물 사전점검·보강, 
기상특보 상시 확인, 제설장비 준비상태 점검</td>
</tr>
<tr>
<td>특보 발령 시</td>
<td>염화칼슘 등 활용 현장 도로 제설, 
비닐하우스 등 붕괴위험 장소 접근 자제, 방한장구 착용</td>
</tr>
<tr>
<td>특보 해제 시</td>
<td>경보 해제 알림, 
피해 발생 시 비상대응 유지 및 2차 재해예방 기술지도</td>
</tr>
<tr>
<td rowspan="2">결론</td>
<td>계절별 
안전조치 목적</td>
<td>계절적 요인에 따른 
산업재해로부터 근로자의 안전·생명 선제적 보호</td>
</tr>
<tr>
<td>실행·교육 
중요성</td>
<td>계절별 재난위험·대응조치의 신속한 전파, 
사업주·근로자 대상 정기 교육·훈련을 통한 
안전조치 이행 강화</td>
</tr>
<tr>
<td colspan="3"></td>
</tr>

</table>
</div>
<script>
(function() {
    var btnEdit = document.getElementById('btnEdit');
    var btnSave = document.getElementById('btnSave');
    var area = document.getElementById('editableArea');
    var pathname = location.pathname || '';
    var filename = pathname.split('/').filter(Boolean).pop() || (document.title || 'document').trim() + '.html';
    if (!/\.html$/i.test(filename)) filename = filename + '.html';

var autoSaveTimer = null;
    var AUTO_SAVE_DELAY_MS = 2000;

    function showToast(msg) {
        var t = document.getElementById('docLoadToast');
        if (t) t.remove();
        t = document.createElement('div');
        t.id = 'docLoadToast';
        t.textContent = msg;
        t.style.cssText = 'position:fixed;bottom:20px;right:20px;padding:10px 16px;background:#333;color:#fff;border-radius:8px;font-size:13px;z-index:9999;box-shadow:0 2px 8px rgba(0,0,0,0.2);';
        document.body.appendChild(t);
        setTimeout(function() { if (t.parentNode) t.remove(); }, 2500);
    }

    function scheduleAutoSave() {
        if (autoSaveTimer) clearTimeout(autoSaveTimer);
        autoSaveTimer = setTimeout(function() {
            autoSaveTimer = null;
            var html = '<!DOCTYPE html>\n' + document.documentElement.outerHTML;
            var baseUrl = location.origin + ((location.pathname || '').split('/doc_load')[0] || '');
            if (baseUrl.endsWith('/')) baseUrl = baseUrl.slice(0, -1);
            fetch(baseUrl + '/save', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ filename: filename, content: html })
            }).then(function(r) { return r.json().then(function(d) { return { ok: r.ok, data: d }; }).catch(function() { return { ok: false, data: null }; }); })
              .then(function(result) {
                  if (result.ok && result.data && result.data.ok) showToast('자동 저장됨');
                  else showToast('자동 저장 불가 (서버에서 열어 주세요)');
              })
              .catch(function() { showToast('자동 저장 불가 (서버 연결 필요)'); });
        }, AUTO_SAVE_DELAY_MS);
    }

    function onEditInput() { scheduleAutoSave(); }

    btnEdit.addEventListener('click', function() {
        area.setAttribute('contenteditable', 'true');
        area.focus();
        btnEdit.disabled = true;
        btnSave.disabled = false;
        area.addEventListener('input', onEditInput);
        area.addEventListener('keyup', onEditInput);
    });

    btnSave.addEventListener('click', function() {
        area.removeEventListener('input', onEditInput);
        area.removeEventListener('keyup', onEditInput);
        area.setAttribute('contenteditable', 'false');
        btnEdit.disabled = false;
        btnSave.disabled = true;
        var html = '<!DOCTYPE html>\n' + document.documentElement.outerHTML;

        function doRefresh() { location.reload(); }

        var baseUrl = location.origin + ((location.pathname || '').split('/doc_load')[0] || '');
        if (baseUrl.endsWith('/')) baseUrl = baseUrl.slice(0, -1);
        fetch(baseUrl + '/save', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ filename: filename, content: html })
        }).then(function(r) { return r.json().then(function(d) { return { ok: r.ok, data: d }; }).catch(function() { return { ok: false, data: null }; }); })
          .then(function(result) {
              if (result.ok && result.data && result.data.ok) { showToast('저장되었습니다.'); doRefresh(); }
              else { showToast('서버에 저장할 수 없습니다. Replit 또는 Node 서버 주소에서 열어 주세요.'); btnSave.disabled = false; }
          })
          .catch(function() { showToast('서버에 저장할 수 없습니다. Replit 또는 Node 서버 주소에서 열어 주세요.'); btnSave.disabled = false; });
    });
})();
</script>

</body>
</html>