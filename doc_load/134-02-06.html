<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>134-02-06</title>
    <style>
        body {
            font-family: 'Malgun Gothic', '맑은 고딕', Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        p {
            margin: 10px 0;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        table, th, td {
            border: 2px solid #999;
        }
        th, td {
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
                table tr td:first-child,
        table tr td:nth-child(2) {
            text-align: center;
        }
        table tr:first-child td:nth-child(3),
        table tr th:nth-child(3) {
            text-align: center;
        }
        table tr:not(:first-child) td:nth-child(3) {
            text-align: left;
        }

        .btn-wrap {
            margin: 16px 0;
        }
        .btn-wrap button {
            font-family: 'Malgun Gothic', '맑은 고딕', Arial, sans-serif;
            padding: 8px 20px;
            margin-right: 10px;
            font-size: 14px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: #f5f5f5;
            color: #333;
            cursor: pointer;
        }
        .btn-wrap button:hover {
            background: #e8e8e8;
        }
        .btn-wrap button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        #editableArea[contenteditable="true"] {
            outline: 1px dashed #4a90d9;
            padding: 4px;
            min-height: 100px;
        }
    </style>
</head>
<body>
<div class="btn-wrap">
    <button type="button" id="btnEdit">수정</button>
    <button type="button" id="btnSave" disabled>저장</button>
</div>
<div id="editableArea" contenteditable="false">
<p>[134-02-06] ‘중대재해 처벌 등에 관한 법률’에 따른 사업주와 경영책임자 등의</p>
<p>안전보건확보의무 4가지에 대하여 설명하시오.</p>
<table>
<tr>
<td>구분</td>
<td>세부항목</td>
<td>설명</td>
</tr>
<tr>
<td>개요</td>
<td>법 핵심</td>
<td>경영책임자 중심 안전·보건관리체계 구축·이행 의무,
의무 위반 시 중대산업재해 책임 부과</td>
</tr>
<tr>
<td rowspan="5">주요내용</td>
<td>목적</td>
<td>기업 안전보건조치 강화, 안전투자 확대, 
중대산업재해 예방, 종사자·시민 생명·신체 보호, 
경영책임자 등 의무 위반 시 처벌</td>
</tr>
<tr>
<td>적용범위</td>
<td>상시 근로자 5명 이상 사업 또는 사업장</td>
</tr>
<tr>
<td>중대산업재해 
범위</td>
<td>작업·업무 기인 상해 재해, 사망 1명 이상, 
동일 사고 6개월 이상 치료 부상 2명 이상, 
동일 유해요인 직업성 질병 1년 이내 3명 이상, 
산소결핍·열사병 등 24개 질병</td>
</tr>
<tr>
<td>중대시민재해 
범위</td>
<td>특정 원료·제조물·공중이용시설·공중교통수단 
설계·제조·설치·관리 결함 기인 재해, 
사망 1명 이상, 
동일 사고 2개월 이상 치료 부상 10명 이상, 
동일 원인 3개월 이상 치료 질병자 10명 이상</td>
</tr>
<tr>
<td>처벌</td>
<td>경영책임자 등 1년 이상 징역 또는 
10억원 이하 벌금, 법인 50억원 이하 벌금</td>
</tr>
<tr>
<td rowspan="4">안전·보건 
확보 의무</td>
<td>안전·보건
관리체계 
구축·이행</td>
<td>안전·보건 목표·경영방침 설정, 
전담조직 설치(조건부), 
유해·위험요인 확인·개선 절차 마련, 
반기 1회 이상 점검·조치, 
재해예방 인력·시설·장비 확보, 
위험요인 개선 예산 편성·집행, 
안전·보건관리책임자 
권한·예산 부여, 평가기준 마련, 
반기 1회 이상 평가·관리, 법정 기준 
안전관리자·보건관리자·안전·보건관리담당자
·산업보건의 배치, 종사자 의견 청취 절차 마련, 
개선방안 마련·이행, 
반기 1회 이상 점검·조치, 중대재해 대비 매뉴얼 마련, 
반기 1회 이상 점검, 도급·용역·위탁 시 안전·보건 확보 
기준·절차 마련, 반기 1회 이상 점검</td>
</tr>
<tr>
<td>재해 
재발방지대책</td>
<td>재발방지대책 수립·이행</td>
</tr>
<tr>
<td>관계법령 
개선·시정 이행</td>
<td>관계 법령 개선·시정 명령사항 이행</td>
</tr>
<tr>
<td>법령 의무 
이행 관리조치</td>
<td>안전·보건 관계 법령 의무 이행 점검(반기 1회 이상), 
미이행 시 인력 추가 배치, 예산 추가 편성·집행, 
유해·위험 작업 안전·보건교육 실시 점검(반기 1회 이상), 미실시 교육 이행 지시, 예산 확보 등 조치</td>
</tr>
<tr>
<td>결론</td>
<td>의무 이행 원칙</td>
<td>실질 지배·운영·관리 사업 또는 사업장 기준, 
사업 특성·규모 고려, 근로자 유해·위험 방지 중심 
안전·보건 확보 의무 이행</td>
</tr>
<tr>
<td colspan="3"></td>
</tr>

</table>
</div>
<script>
(function() {
    var btnEdit = document.getElementById('btnEdit');
    var btnSave = document.getElementById('btnSave');
    var area = document.getElementById('editableArea');
    var pathname = location.pathname || '';
    var filename = pathname.split('/').filter(Boolean).pop() || (document.title || 'document').trim() + '.html';
    if (!/\.html$/i.test(filename)) filename = filename + '.html';

var autoSaveTimer = null;
    var AUTO_SAVE_DELAY_MS = 2000;

    function showToast(msg) {
        var t = document.getElementById('docLoadToast');
        if (t) t.remove();
        t = document.createElement('div');
        t.id = 'docLoadToast';
        t.textContent = msg;
        t.style.cssText = 'position:fixed;bottom:20px;right:20px;padding:10px 16px;background:#333;color:#fff;border-radius:8px;font-size:13px;z-index:9999;box-shadow:0 2px 8px rgba(0,0,0,0.2);';
        document.body.appendChild(t);
        setTimeout(function() { if (t.parentNode) t.remove(); }, 2500);
    }

    function scheduleAutoSave() {
        if (autoSaveTimer) clearTimeout(autoSaveTimer);
        autoSaveTimer = setTimeout(function() {
            autoSaveTimer = null;
            var html = '<!DOCTYPE html>\n' + document.documentElement.outerHTML;
            var baseUrl = location.origin + ((location.pathname || '').split('/doc_load')[0] || '');
            if (baseUrl.endsWith('/')) baseUrl = baseUrl.slice(0, -1);
            fetch(baseUrl + '/save', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ filename: filename, content: html })
            }).then(function(r) { return r.json().then(function(d) { return { ok: r.ok, data: d }; }).catch(function() { return { ok: false, data: null }; }); })
              .then(function(result) {
                  if (result.ok && result.data && result.data.ok) showToast('자동 저장됨');
                  else showToast('자동 저장 불가 (서버에서 열어 주세요)');
              })
              .catch(function() { showToast('자동 저장 불가 (서버 연결 필요)'); });
        }, AUTO_SAVE_DELAY_MS);
    }

    function onEditInput() { scheduleAutoSave(); }

    btnEdit.addEventListener('click', function() {
        area.setAttribute('contenteditable', 'true');
        area.focus();
        btnEdit.disabled = true;
        btnSave.disabled = false;
        area.addEventListener('input', onEditInput);
        area.addEventListener('keyup', onEditInput);
    });

    btnSave.addEventListener('click', function() {
        area.removeEventListener('input', onEditInput);
        area.removeEventListener('keyup', onEditInput);
        area.setAttribute('contenteditable', 'false');
        btnEdit.disabled = false;
        btnSave.disabled = true;
        var html = '<!DOCTYPE html>\n' + document.documentElement.outerHTML;

        function doRefresh() { location.reload(); }

        var baseUrl = location.origin + ((location.pathname || '').split('/doc_load')[0] || '');
        if (baseUrl.endsWith('/')) baseUrl = baseUrl.slice(0, -1);
        fetch(baseUrl + '/save', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ filename: filename, content: html })
        }).then(function(r) { return r.json().then(function(d) { return { ok: r.ok, data: d }; }).catch(function() { return { ok: false, data: null }; }); })
          .then(function(result) {
              if (result.ok && result.data && result.data.ok) { showToast('저장되었습니다.'); doRefresh(); }
              else { showToast('서버에 저장할 수 없습니다. Replit 또는 Node 서버 주소에서 열어 주세요.'); btnSave.disabled = false; }
          })
          .catch(function() { showToast('서버에 저장할 수 없습니다. Replit 또는 Node 서버 주소에서 열어 주세요.'); btnSave.disabled = false; });
    });
})();
</script>

</body>
</html>